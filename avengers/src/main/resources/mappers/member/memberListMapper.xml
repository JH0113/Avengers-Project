<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="mappers.memberListMapper">
	
	
<select id="count" resultType="int">
	select count(*) from member
</select>

 
 
<select id="memList" resultType="model.MemberDTO" parameterType="model.MemberDTO">
	select rn, memId, memNick, memName, memAddr, memPostNumber, memDetailAdd, memPhone, memReportedCount
	from 	
		(select ROWNUM rn, MEM_ID memId, MEM_NICK memNick, MEM_NAME memName, MEM_ADDR memAddr,
		MEM_POSTNUMBER memPostNumber, MEM_DETAILADD memDetailAdd, MEM_PHONE memPhone,
		MEM_REPORTED_COUNT memReportedCount 
		from member ) 
	where rn between #{startEndPageDTO.startRow} and #{startEndPageDTO.endRow}  	
	
</select>	 


<select id="memberSearchList" resultType="model.MemberDTO" parameterType="string">
	select rn, memId, memNick, memName, memAddr, memPostNumber, memDetailAdd, memPhone, memReportedCount
	from 	
		(select ROWNUM rn, MEM_ID memId, MEM_NICK memNick, MEM_NAME memName, MEM_ADDR memAddr,
		MEM_POSTNUMBER memPostNumber, MEM_DETAILADD memDetailAdd, MEM_PHONE memPhone,
		MEM_REPORTED_COUNT memReportedCount 
		from member )  
		where memId like '%'||#{keyword}||'%' or memNick like '%'||#{keyword}||'%'	
</select>	 

</mapper>